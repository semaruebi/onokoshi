# 🎯 お残しは許しまへんday

精鋭狩りRTA中に**倒しきれなかった精鋭エネミー（狩り残し）**を効率的にチェック・記録し、次回のRTAのための分析材料を収集するためのWebアプリケーションです。

## ✨ 機能

### 🗺️ ルートセットの登録・管理
- 複数のルートをまとめて「ルートセット」として登録・管理
- ルートセット名と想定精鋭数を設定可能
- グループ化機能（`-`で子ルート、`{}`でグループ境界を表現）
- 登録済みルートセットの一覧表示、編集、削除
- 元のフォーマット（`-`や`{}`）を保持したまま編集可能

### ✅ 狩り残しチェック機能
- ルートセットを選択してRUN（記録）を作成
- 各ルートごとに「狩り残しがいたかどうか」をチェック
- 狩り残しがあった場合、残数とメモを入力可能
- タグ機能（`#ワンパンミス`、`#ミリ残し`、`#狩り漏れ`など）で理由を素早く記録
- グループごとに折りたたみ表示が可能
- メインカードに狩り残しルートを一覧表示
- 狩り残しルートにホバーするとメモをツールチップで表示

### 📊 統計・分析機能
- 過去のRUN履歴を一覧で閲覧
- 各RUNの最終カウント（想定精鋭数 - 狩り残し総数 - 鶴観不足分 + アドリブ追加数）を自動計算
- 統計タブで詳細な分析が可能

### 🎨 UI/UX機能
- **白夜/常夜テーマ切り替え**: 右上のボタンでテーマを切り替え可能
- **視覚的フィードバック**: ボタンや入力フィールドにホバーアニメーション
- **入力可能要素の視覚化**: 入力可能な要素が一目でわかるデザイン
- **スムーズなスクロール**: 記録ページを開くと自動的にページトップへスクロール

## 🚀 セットアップ

### 必要な環境
- Node.js 18以上
- npm または yarn

### インストール

```bash
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで `http://localhost:5173` を開いてください。

### ビルド

```bash
npm run build
```

ビルドされたファイルは `dist` ディレクトリに出力されます。

## 💾 データ保存

すべてのデータはブラウザのIndexedDBに保存されます。サーバー通信は一切ありません。

- ルート情報: IndexedDBの`routes`ストア
- ルートセット情報: IndexedDBの`routeSets`ストア
- RUN履歴: IndexedDBの`runs`ストア

データはブラウザに永続的に保存され、ページを閉じても保持されます。

## 📝 使用方法

### 1. ルートセットの登録

1. ホーム画面の「🗺️ ルートセットを登録」セクションで以下を入力：
   - **ルートセット名**: 例: `400EE NPuI No LeyLine`
   - **想定精鋭数**: 例: `400`
   - **ルートリスト**: 以下の形式で入力
     ```
     かつヴァナ 5
     聖顕殿 8
     -子ルート1 2
     -子ルート2 3
     {グループ名(33)}おにぎり波△(2)
     ```

2. **入力形式**:
   - `ルート名 数`: 通常のルート（例: `かつヴァナ 5`）
   - `ルート名 (数)`: 括弧形式も可（例: `かつヴァナ (5)`）
   - `-ルート名 数`: 子ルート（グループに属する）
   - `{グループ名(数)}ルート名(数)`: グループの境界

3. 「ルートセットを登録」ボタンをクリック

### 2. 記録（RUN）の作成

1. 「✨ 記録を始める」ボタンをクリック
2. 使用するルートセットを選択
3. 自動的にRUNが作成され、編集画面が開きます

### 3. 狩り残しの記録

1. **メインカード**で以下を確認・入力：
   - RUN名（自動生成、編集可能）
   - 想定精鋭数、鶴観不足分、アドリブ追加数
   - FINAL COUNT（自動計算）
   - 狩り残しルート一覧（メモがある場合はホバーで確認）

2. **チェックリスト**で各ルートをチェック：
   - ルート名をクリックして狩り残しの有無を切り替え
   - 狩り残しがある場合：
     - **残数**: 残った精鋭の数を入力
     - **メモ**: 理由や精鋭名を入力
     - **タグ**: よく使う理由をタグで素早く追加

3. 「保存」ボタンで保存

### 4. 履歴・統計の確認

- **ホーム**: 過去のRUN一覧を表示
- **統計**: 詳細な統計情報を表示

## 🛠️ 技術スタック

- **React 18** - UIライブラリ
- **TypeScript** - 型安全性
- **Vite** - ビルドツール
- **IndexedDB** - データ永続化（ブラウザのローカルデータベース）
- **CSS3** - モダンなアニメーションとグラスモーフィズムデザイン

## 📱 対応環境

- PC（Chrome, Firefox, Edge, Safari）
- スマートフォン（iOS Safari, Android Chrome）

レスポンシブデザインに対応しており、どのデバイスでも快適に使用できます。

## 🌐 GitHub Pagesでの公開

このアプリはGitHub Pagesで公開されています。

**公開URL**: https://semaruebi.github.io/onokoshi/

### デプロイ方法

1. GitHubリポジトリの設定で、Settings > Pages を開く
2. Source を "GitHub Actions" に設定
3. `master` ブランチにpushすると自動的にデプロイされます

または、手動でデプロイする場合：

```bash
npm run build
# distフォルダの内容をgh-pagesブランチにpush
```

## 📄 ライセンス

MIT License


